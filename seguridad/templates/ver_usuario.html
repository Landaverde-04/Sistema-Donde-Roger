{% extends "navegacion.html" %}
{% block content %}
<div class="container mt-4">
    <div class="card mx-auto" style="max-width: 600px;">
        <div class="card-header bg-primary text-white">
            <h4>Detalle de Usuario</h4>
        </div>
        <div class="card-body">
            <p><strong>ID:</strong> {{ usuario.id }}</p>
            <p><strong>Usuario:</strong> {{ usuario.username }}</p>
            <p><strong>Empleado:</strong> {{ usuario.idEmpleado }}</p>
            <p><strong>Correo:</strong> {{ usuario.email }}</p>
            <p><strong>Rol:</strong> {% for group in usuario.groups.all %}{{ group.name }}{% if not forloop.last %}, {% endif %}{% endfor %}</p>
            <div class="d-flex gap-2">
                <a href="{% url 'usuario_lista' %}" class="btn btn-secondary">Atrás</a>
                <a href="{% url 'modificar_usuario' usuario.id %}" class="btn btn-success">Modificar</a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalExito" tabindex="-1" aria-labelledby="modalExitoLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" id="modalExitoLabel">
            <i class="bi bi-check-circle-fill me-2"></i>Éxito
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body" id="contenidoModalExito">
        <!-- Aquí se pondrá el mensaje -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-bs-dismiss="modal">Aceptar</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Confirmación de Eliminación -->
<div class="modal fade" id="modalEliminar" tabindex="-1" aria-labelledby="modalEliminarLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-danger">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="modalEliminarLabel">
            <i class="bi bi-exclamation-octagon-fill me-2"></i>Confirmar eliminación
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <span id="textoEliminar"></span>
      </div>
      <div class="modal-footer">
        <form id="formEliminar" method="post" action="">
            {% csrf_token %}
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-danger">Eliminar</button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
