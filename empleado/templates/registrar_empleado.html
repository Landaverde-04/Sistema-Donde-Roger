{% extends 'navegacion.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'CSS/registrar_empleado.css' %}">
<div class="pre-div">
<div class="container mt-4" id="div-datos">
    <h2>Registrar Empleado</h2>
    <form method="post" enctype="multipart/form-data" id="formEmpleado">
        {% csrf_token %}
        <div class="mb-3">
            <label for="nombresEmpleado" class="form-label">Nombres</label>
            <input type="text" class="form-control" id="nombresEmpleado" name="nombresEmpleado"
                maxlength="30"
                pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+"
                title="Ingrese solo letras y espacios, máximo 30 caracteres."
                required
                autocomplete="off">
        </div>
        <div class="mb-3">
            <label for="apellidosEmpleado" class="form-label">Apellidos</label>
            <input type="text" class="form-control" id="apellidosEmpleado" name="apellidosEmpleado"
                maxlength="30"
                pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+"
                title="Ingrese solo letras y espacios, máximo 30 caracteres."
                required
                autocomplete="off">
        </div>
        <div class="mb-3">
            <label for="duiEmpleado" class="form-label">DUI</label>
            <input type="text" class="form-control" id="duiEmpleado" name="duiEmpleado"
                maxlength="10"
                minlength="10"
                pattern="^[0-9]{8}-[0-9]$"
                placeholder="06718918-3"
                title="Ingrese el DUI en formato 12345678-9. Solo números y un guion."
                required
                autocomplete="off">
        </div>
        <div class="mb-3">
            <label for="telEmpleado" class="form-label">Teléfono</label>
            <input type="text" class="form-control" id="telEmpleado" name="telEmpleado"
                maxlength="8"
                minlength="8"
                pattern="[0-9]{8}"
                title="Ingrese exactamente 8 dígitos numéricos."
                required
                autocomplete="off">
        </div>
        <div class="mb-3">
            <label for="telEmergenciaEmpleado" class="form-label">Tel. Emergencia</label>
            <input type="text" class="form-control" id="telEmergenciaEmpleado" name="telEmergenciaEmpleado"
                maxlength="8"
                minlength="8"
                pattern="[0-9]{8}"
                title="Ingrese exactamente 8 dígitos numéricos."
                required
                autocomplete="off">
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="fechaNacimientoEmpleado" class="form-label">Fecha de Nacimiento</label>
                <input type="date" class="form-control" id="fechaNacimientoEmpleado" name="fechaNacimientoEmpleado"
                    required title="Seleccione una fecha de nacimiento. Este campo es obligatorio.">
            </div>
            <div class="col-md-6 mb-3">
                <label for="fechaContratacionEmpleado" class="form-label">Fecha de Contratación</label>
                <input type="date" class="form-control" id="fechaContratacionEmpleado" name="fechaContratacionEmpleado"
                    required title="Seleccione una fecha de contratación. Este campo es obligatorio.">
            </div>
        </div>
        <div class="mb-3">
            <label for="direccionEmpleado" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="direccionEmpleado" name="direccionEmpleado" maxlength="100">
        </div>
        <div class="mb-3">
            <label for="salarioEmpleado" class="form-label">Salario</label>
            <input type="number" class="form-control" id="salarioEmpleado" name="salarioEmpleado" step="0.01" max="9999.99" required>
        </div>
        <div class="mb-3">
            <label for="experienciaLaboralEmpleado" class="form-label">Experiencia Laboral</label>
            <textarea class="form-control" id="experienciaLaboralEmpleado" name="experienciaLaboralEmpleado" rows="3" required></textarea>
        </div>
        <div class="mb-3">
            <label for="contratoEmpleado" class="form-label d-flex align-items-center">
                <i class="bi bi-file-earmark-arrow-up" style="color: #d32f2f; font-size: 1.5rem; margin-right: 8px;"></i>
                Subir contrato (PDF)
            </label>
            <input class="form-control" type="file" id="contratoEmpleado" name="contratoEmpleado" accept=".pdf" required>
            <small class="form-text text-muted">Formato PDF, máximo 15MB.</small>
        </div>
        <button type="submit" class="btn btn-primary">Registrar Empleado</button>
    </form>
</div>
</div>

<!-- Modal de éxito -->
<div class="modal fade" id="mensajeModal" tabindex="-1" aria-labelledby="mensajeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-success">
        <h5 class="modal-title">
          <i class="bi bi-check-circle"></i>  Éxito
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body" id="modalMensajeTexto">
        ¡Empleado registrado exitosamente!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}
